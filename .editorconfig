# Top-most EditorConfig file
root = true

############################
# Global (all file types)
############################
[*]
charset = utf-8
end_of_line = crlf
insert_final_newline = true
trim_trailing_whitespace = true
tab_width = 4
indent_style = tab
indent_size = 4

# Optional: keep line length consistent (editors may or may not enforce visually)
max_line_length = 120


############################
# Visual Studio / .NET files
############################

# Solution and project files
[*.{sln,csproj,props,targets}]
tab_width = 2
indent_style = tab
indent_size = 2

# JSON/YAML (often used in ASP.NET Core: appsettings.json, etc.)
[*.{json,yml,yaml}]
tab_width = 2
indent_style = tab
indent_size = 2


############################
# C# files
############################
[*.cs]
# Newline preferences
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true
csharp_new_line_between_query_expression_clauses = true

# Indentation preferences
csharp_indent_case_contents = true
csharp_indent_switch_labels = true
csharp_indent_labels = one_less_than_current

# 'var' preferences (common team default)
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:none

# Namespace style (modern default for .NET 6+ codebases)
csharp_style_namespace_declarations = file_scoped:suggestion

# Prefer expression-bodied members (keep as suggestion to avoid churn)
csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = when_on_single_line:suggestion
csharp_style_expression_bodied_accessors = when_on_single_line:suggestion

# Prefer pattern matching and switch expressions (modern C#)
csharp_style_prefer_pattern_matching = true:suggestion
csharp_style_prefer_switch_expression = true:suggestion

# Braces (reduce bug risk)
csharp_prefer_braces = true:warning

# 'using' directive organization
dotnet_sort_system_directives_first = true
dotnet_separate_import_directive_groups = true

# Qualification preferences (keep code clean)
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# Prefer readonly for fields where possible
dotnet_style_readonly_field = true:suggestion

# Prefer auto-properties
dotnet_style_prefer_auto_properties = true:suggestion

# Parentheses (clarity)
dotnet_style_parentheses_in_arithmetic_binary_operators = always_for_clarity:suggestion
dotnet_style_parentheses_in_relational_binary_operators = always_for_clarity:suggestion
dotnet_style_parentheses_in_other_binary_operators = always_for_clarity:suggestion
dotnet_style_parentheses_in_other_operators = never_if_unnecessary:suggestion

# Modifier order (standard C#)
csharp_preferred_modifier_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,required,volatile,async:suggestion


############################
# Naming rules (common baseline)
############################

# Interfaces start with I
dotnet_naming_rule.interfaces_should_be_prefixed_with_i.severity = suggestion
dotnet_naming_rule.interfaces_should_be_prefixed_with_i.symbols = interfaces
dotnet_naming_rule.interfaces_should_be_prefixed_with_i.style = prefix_i

dotnet_naming_symbols.interfaces.applicable_kinds = interface
dotnet_naming_symbols.interfaces.applicable_accessibilities = public, internal, protected, private
dotnet_naming_symbols.interfaces.required_modifiers =

dotnet_naming_style.prefix_i.required_prefix = I
dotnet_naming_style.prefix_i.capitalization = pascal_case

# Types (classes/structs/enums) in PascalCase
dotnet_naming_rule.types_pascal_case.severity = suggestion
dotnet_naming_rule.types_pascal_case.symbols = types
dotnet_naming_rule.types_pascal_case.style = pascal_case_style

dotnet_naming_symbols.types.applicable_kinds = class, struct, enum, delegate
dotnet_naming_symbols.types.applicable_accessibilities = public, internal, protected, private
dotnet_naming_symbols.types.required_modifiers =

dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# Private fields often use _camelCase (common in ASP.NET Core codebases)
dotnet_naming_rule.private_fields_underscore.severity = suggestion
dotnet_naming_rule.private_fields_underscore.symbols = private_fields
dotnet_naming_rule.private_fields_underscore.style = underscore_camel_case

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private
dotnet_naming_symbols.private_fields.required_modifiers =

dotnet_naming_style.underscore_camel_case.required_prefix = _
dotnet_naming_style.underscore_camel_case.capitalization = camel_case


############################
# Analyzer severities (high signal, low noise)
############################

# Remove unused usings
dotnet_diagnostic.IDE0005.severity = warning

# Prefer 'is null' checks (readability)
dotnet_diagnostic.IDE0041.severity = suggestion

# Make field readonly when possible
dotnet_diagnostic.IDE0044.severity = suggestion

# Use explicit type instead of 'var' where type is not apparent (if you keep csharp_style_var_elsewhere=false)
dotnet_diagnostic.IDE0008.severity = none

# Format document (IDE0055 can show in editor; CI typically uses dotnet format)
dotnet_diagnostic.IDE0055.severity = suggestion


############################
# Razor files (optional)
############################
[*.razor]
tab_width = 4
indent_style = tab
indent_size = 4

[*.cshtml]
tab_width = 4
indent_style = tab
indent_size = 4
